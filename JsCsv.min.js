/*******************************************************************************
 * Copyright 2016 - Jean-Christophe Malapert
 *
 * This file is part of JsVotable.
 *
 * JsCsv is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * JsCsv is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with JVotable.  If not, see <http://www.gnu.org/licenses/>.
 ******************************************************************************/

!function(){function t(t){if(null==t)throw Error("csv cannot be null");if("string"!=typeof t)throw Error("This object is not supported")}function e(t,e,o){for(var s=t.split("\n"),i=0,a=0;a<s.length&&r(s[a],e,o.name);a++)i++;return n(s,i,e,o)}function r(t,e,r){return t.startsWith(i)||0==t.length||""+r==""+t.split(e)}function n(t,e,r,n){for(var s=[],i=e;i<t.length&&0!=t[i].length;i++)s.push(o(t[i],r,n));return s}function o(t,e,r){for(var n={},o=t.split(e),i=0;i<o.length;i++)n[r.name[i]]=s(o[i],r.datatype[i]);return n}function s(t,e){var r;switch(e){case"short":case"int":case"long":r=Number.parseInt(t);break;case"float":case"double":r=Number.parseFloat(t);break;default:r=t}return r}var i="#",a=function(r,n,o){t(r),this.store=e(r,n,o)};a.prototype.getStore=function(){return this.store},a.prototype.getGeoJSon=function(t,e){for(var r=t.RA,n=t.DEC,o=t.ID,s=[],i=0;i<this.store.length;i++){var a={type:"Feature",id:this.store[i][o],geometry:{type:"Point",coordinates:[this.store[i][r],this.store[i][n]]},crs:{type:"name",properties:{name:e}}},u=JSON.parse(JSON.stringify(this.store[i]));delete u[r],delete u[n],delete u[o],a.properties=u,s.push(a)}var h={type:"FeatureCollection",features:s};return h};var u={};return u.Csv=a,u.version={major:1,minor:1,patch:1,date:"2017-04-17",toString:function(){return this.major+"."+this.minor+"."+this.patch}},window.JsCsv=u,u}();