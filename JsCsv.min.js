/*******************************************************************************
 * Copyright 2016 - Jean-Christophe Malapert
 *
 * This file is part of JsVotable.
 *
 * JsCsv is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * JsCsv is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with JVotable.  If not, see <http://www.gnu.org/licenses/>.
 ******************************************************************************/

!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):t.mylib=e(t.$)}(this,function(t){return define("csv",[],function(){function t(t){if(null==t)throw Error("csv cannot be null");if("string"!=typeof t)throw Error("This object is not supported")}function e(t,e,o){for(var i=t.split("\n"),s=0,u=0;u<i.length&&r(i[u],e,o.name);u++)s++;return n(i,s,e,o)}function r(t,e,r){return t.startsWith(s)||0==t.length||""+r==""+t.split(e)}function n(t,e,r,n){for(var i=[],s=e;s<t.length;s++)0!==t[s].length&&i.push(o(t[s],r,n));return i}function o(t,e,r){for(var n={},o=t.split(e),s=0;s<o.length;s++)n[r.name[s]]=i(o[s],r.datatype[s]);return n}function i(t,e){var r;switch(e){case"short":case"int":case"long":r=Number.parseInt(t);break;case"float":case"double":r=Number.parseFloat(t);break;default:r=t}return r}var s="#",u=function(r,n,o){t(r),this.store=e(r,n,o)};return u.prototype.getStore=function(){return this.store},u.prototype.getGeoJSon=function(t,e){for(var r=t.RA,n=t.DEC,o=t.ID,i=[],s=0;s<this.store.length;s++){var u={type:"Feature",id:this.store[s][o],geometry:{type:"Point",coordinates:[this.store[s][r],this.store[s][n]],crs:{type:"name",properties:{name:e}}}},a=JSON.parse(JSON.stringify(this.store[s]));delete a[r],delete a[n],delete a[o],u.properties=a,i.push(u)}return{type:"FeatureCollection",features:i}},u}),define("JsCsv",["./csv"],function(t){var e={};return e.Csv=t,e.version={major:1,minor:1,patch:3,date:"2019-02-15",toString:function(){return this.major+"."+this.minor+"."+this.patch}},window.JsCsv=e,e}),require(["JsCsv"]),define("jquery",function(){return t}),require("JsCsv")});